(()=>{"use strict";const e=document.getElementById("lightboxmainImgContainer"),t=document.getElementById("mainImgContainer"),n=document.getElementById("itemCount"),i=document.getElementById("cart"),c=document.getElementById("cartItemContainer"),m=document.getElementById("checkoutBtn"),l=document.getElementById("cartTextEmpty"),d={changeImage:e=>{d.changeMainImg(e),d.changeCurrentThumbnail(e)},changeCurrentThumbnail:e=>{Array.from(document.querySelectorAll(".image--current")).forEach((e=>e.classList.toggle("image--current"))),document.getElementById(`lightboxThumbnail_${e}`).classList.toggle("image--current"),document.getElementById(`thumbnail_${e}`).classList.toggle("image--current")},changeMainImg:n=>{t.querySelector(".visible").classList.toggle("visible"),document.getElementById(`image_${n}`).classList.toggle("visible"),e.querySelector(".visible").classList.toggle("visible"),document.getElementById(`lightboxImage_${n}`).classList.toggle("visible")},toggleHidden:e=>{e.classList.toggle("hidden")},editCount:e=>{let t=Number(n.textContent)+e;t>=0&&(n.textContent=t)},showCart:()=>{i.classList.remove("hidden")},updateCart(){c.hasChildNodes()?(m.classList.remove("hidden"),l.classList.add("hidden")):(m.classList.add("hidden"),l.classList.remove("hidden"))}};let r=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});const o=document.getElementById("mainImgContainer"),a=document.getElementById("lightboxCloseBtn"),s=Array.from(document.querySelectorAll(".thumbnail--container")),u=Array.from(document.querySelectorAll(".icon--container--right")),g=Array.from(document.querySelectorAll(".icon--container--left")),E=document.getElementById("showCartBtn"),h=document.getElementById("addToCartBtn"),y=document.getElementById("cart"),I=document.getElementById("cartItemContainer"),b=document.getElementById("itemCount"),B=document.getElementById("lightbox"),C=document.getElementById("pageMask"),v=document.getElementById("countIncrement"),L=document.getElementById("countDecrement");function f(){d.toggleHidden(C),d.toggleHidden(B)}function x(e){const t=Number(o.querySelector(".visible").id.slice(-1));let n="right"===e?t+1:t-1;0===n&&(n=4),5===n&&(n=1),d.changeImage(n)}function p(){const e=this.id.slice(-1);d.changeImage(e)}function k(e){d.editCount(e)}function S(){this.closest(".cart_item").parentElement.remove(),d.updateCart()}E.addEventListener("click",(()=>d.toggleHidden(y))),h.addEventListener("click",(function(){if(0===Number(b.textContent))return;let e=(e=>`<div class="cart_item basic-flex">\n  \t\t<img class="item_thumbnail" src="${e.thumbnailSrc}">\n \t\t <div class="item_text basic-flex">\n   \t\t <p class="item_name">${e.itemName}</p>\n   \t\t <div class="basic-flex">\n      \t\t<p>${r.format(e.itemPrice)} x ${e.itemCount}</p>\n      \t\t<p class="black-bold">${r.format(e.itemPrice*e.itemCount)}</p>\n    \t\t</div>\n  \t\t</div>\n  \t\t<button class="cartItemDelBtn"><img class="icon" src="assets/icon-delete.svg"></button>\n\t\t</div>`)((()=>{let e=document.getElementById("currentPrice").textContent;return e=Number(e.replace("$","")),{thumbnailSrc:document.getElementById("firstThumbnail").src,itemName:document.getElementById("itemName").textContent,itemPrice:e,itemCount:Number(document.getElementById("itemCount").textContent)}})()),t=document.createElement("div");t.innerHTML=e,t.querySelector(".cartItemDelBtn").addEventListener("click",S),I.append(t),d.updateCart(),d.showCart()})),o.addEventListener("click",f),a.addEventListener("click",f),s.forEach((e=>e.addEventListener("click",p))),u.forEach((e=>e.addEventListener("click",(()=>{x("right")})))),g.forEach((e=>e.addEventListener("click",(()=>{x("left")})))),v.addEventListener("click",(()=>k(1))),L.addEventListener("click",(()=>k(-1)))})();